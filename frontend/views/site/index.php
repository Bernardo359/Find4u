<?php

/** @var yii\web\View $this */

$this->title = 'My Yii Application';
?>
<div class="site-index">
  <div class="main-banner">
    <div class="owl-carousel owl-banner">
      <div class="item item-1">
        <div class="header-text">
          <span class="category">Leiria, <em>Portugal</em></span>
          <h2>Não Percas!<br>Compre já a sua casa</h2>
        </div>
      </div>

      <div class="item item-2">
        <div class="header-text">
          <span class="category">Lisboa, <em>Portugal</em></span>
          <h2>Rápido!<br>A tua casa ja espera por ti</h2>
        </div>
      </div>

      <div class="item item-3">
        <div class="header-text">
          <span class="category">Porto, <em>Portugal</em></span>
          <h2>Rapidoo!<br>A sua nova casa espera por si</h2>
        </div>
      </div>
    </div>
  </div>

  <div class="body-content">

    <div class="featured section">
      <div class="container">
        <div class="row">
          <div class="col-lg-4">
            <div class="left-image">
              <img src="../template/img/featured.jpg" alt="">
              <a href="property-details.html"><img src="../template/img/featured-icon.png" alt="" style="max-width: 60px; padding: 0px;"></a>
            </div>
          </div>
          <div class="col-lg-5">
            <div class="section-heading">
              <h6>| Apresentamos</h6>
              <h2>O melhor apartamento &amp; Vista para o mar</h2>
            </div>
            <div class="accordion" id="accordionExample">
              <div class="accordion-item">
                <h2 class="accordion-header" id="headingOne">
                  <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                    Best useful links ?
                  </button>
                </h2>
                <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
                  <div class="accordion-body">
                    Get <strong>the best villa</strong> website template in HTML CSS and Bootstrap for your business. TemplateMo provides you the <a href="https://www.google.com/search?q=best+free+css+templates" target="_blank">best free CSS templates</a> in the world. Please tell your friends about it.</div>
                </div>
              </div>
              <div class="accordion-item">
                <h2 class="accordion-header" id="headingTwo">
                  <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                    How does this work ?
                  </button>
                </h2>
                <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
                  <div class="accordion-body">
                    Dolor <strong>almesit amet</strong>, consectetur adipiscing elit, sed doesn't eiusmod tempor incididunt ut labore consectetur <code>adipiscing</code> elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                  </div>
                </div>
              </div>
              <div class="accordion-item">
                <h2 class="accordion-header" id="headingThree">
                  <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                    Why is Villa Agency the best ?
                  </button>
                </h2>
                <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#accordionExample">
                  <div class="accordion-body">
                    Dolor <strong>almesit amet</strong>, consectetur adipiscing elit, sed doesn't eiusmod tempor incididunt ut labore consectetur <code>adipiscing</code> elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-3">
            <div class="info-table">
              <ul>
                <li>
                  <img src="../template/img/info-icon-01.png" alt="" style="max-width: 52px;">
                  <h4>250 m2<br><span>Área do imóvel</span></h4>
                </li>
                <li>
                  <img src="../template/img/info-icon-02.png" alt="" style="max-width: 52px;">
                  <h4>Contrato<br><span>Escolha o seu contrato</span></h4>
                </li>
                <li>
                  <img src="../template/img/info-icon-03.png" alt="" style="max-width: 52px;">
                  <h4>Pagamento<br><span>Processo de pagamento</span></h4>
                </li>
                <li>
                  <img src="../template/img/info-icon-04.png" alt="" style="max-width: 52px;">
                  <h4>Segurança<br><span>24/7 sobre controlo</span></h4>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="fun-facts">
      <div class="container">
        <div class="row">
          <div class="col-lg-12">
            <div class="wrapper">
              <div class="row">
                <div class="col-lg-4">
                  <div class="counter">
                    <h2 class="timer count-title count-number" data-to="34" data-speed="1000"></h2>
                    <p class="count-text ">Buildings<br>Finished Now</p>
                  </div>
                </div>
                <div class="col-lg-4">
                  <div class="counter">
                    <h2 class="timer count-title count-number" data-to="12" data-speed="1000"></h2>
                    <p class="count-text ">Years<br>Experience</p>
                  </div>
                </div>
                <div class="col-lg-4">
                  <div class="counter">
                    <h2 class="timer count-title count-number" data-to="24" data-speed="1000"></h2>
                    <p class="count-text ">Awwards<br>Won 2023</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="section best-deal">
      <div class="container">
        <div class="row">
          <div class="col-lg-4">
            <div class="section-heading">
              <h6>| Best Deal</h6>
              <h2>Find Your Best Deal Right Now!</h2>
            </div>
          </div>
          <div class="col-lg-12">
            <div class="tabs-content">
              <div class="row">
                <div class="nav-wrapper ">
                  <ul class="nav nav-tabs" role="tablist">
                    <li class="nav-item" role="presentation">
                      <button class="nav-link active" id="appartment-tab" data-bs-toggle="tab" data-bs-target="#appartment" type="button" role="tab" aria-controls="appartment" aria-selected="true">Appartment</button>
                    </li>
                    <li class="nav-item" role="presentation">
                      <button class="nav-link" id="villa-tab" data-bs-toggle="tab" data-bs-target="#villa" type="button" role="tab" aria-controls="villa" aria-selected="false">Villa House</button>
                    </li>
                    <li class="nav-item" role="presentation">
                      <button class="nav-link" id="penthouse-tab" data-bs-toggle="tab" data-bs-target="#penthouse" type="button" role="tab" aria-controls="penthouse" aria-selected="false">Penthouse</button>
                    </li>
                  </ul>
                </div>
                <div class="tab-content" id="myTabContent">
                  <div class="tab-pane fade show active" id="appartment" role="tabpanel" aria-labelledby="appartment-tab">
                    <div class="row">
                      <div class="col-lg-3">
                        <div class="info-table">
                          <ul>
                            <li>Total Flat Space <span>185 m2</span></li>
                            <li>Floor number <span>26th</span></li>
                            <li>Number of rooms <span>4</span></li>
                            <li>Parking Available <span>Yes</span></li>
                            <li>Payment Process <span>Bank</span></li>
                          </ul>
                        </div>
                      </div>
                      <div class="col-lg-6">
                        <img src="../template/img/deal-01.jpg" alt="">
                      </div>
                      <div class="col-lg-3">
                        <h4>Extra Info About Property</h4>
                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, do eiusmod tempor pack incididunt ut labore et dolore magna aliqua quised ipsum suspendisse.
                          <br><br>When you need free CSS templates, you can simply type TemplateMo in any search engine website. In addition, you can type TemplateMo Portfolio, TemplateMo One Page Layouts, etc.
                        </p>
                        <div class="icon-button">
                          <a href="#"><i class="fa fa-calendar"></i> Marcar Visita</a>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="tab-pane fade" id="villa" role="tabpanel" aria-labelledby="villa-tab">
                    <div class="row">
                      <div class="col-lg-3">
                        <div class="info-table">
                          <ul>
                            <li>Total Flat Space <span>250 m2</span></li>
                            <li>Floor number <span>26th</span></li>
                            <li>Number of rooms <span>5</span></li>
                            <li>Parking Available <span>Yes</span></li>
                            <li>Payment Process <span>Bank</span></li>
                          </ul>
                        </div>
                      </div>
                      <div class="col-lg-6">
                        <img src="../template/img/deal-02.jpg" alt="">
                      </div>
                      <div class="col-lg-3">
                        <h4>Detail Info About Villa</h4>
                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, do eiusmod tempor pack incididunt ut labore et dolore magna aliqua quised ipsum suspendisse. <br><br>Swag fanny pack lyft blog twee. JOMO ethical copper mug, succulents typewriter shaman DIY kitsch twee taiyaki fixie hella venmo after messenger poutine next level humblebrag swag franzen.</p>
                        <div class="icon-button">
                          <a href="#"><i class="fa fa-calendar"></i> Marcar Visita</a>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="tab-pane fade" id="penthouse" role="tabpanel" aria-labelledby="penthouse-tab">
                    <div class="row">
                      <div class="col-lg-3">
                        <div class="info-table">
                          <ul>
                            <li>Total Flat Space <span>320 m2</span></li>
                            <li>Floor number <span>34th</span></li>
                            <li>Number of rooms <span>6</span></li>
                            <li>Parking Available <span>Yes</span></li>
                            <li>Payment Process <span>Bank</span></li>
                          </ul>
                        </div>
                      </div>
                      <div class="col-lg-6">
                        <img src="../template/img/deal-03.jpg" alt="">
                      </div>
                      <div class="col-lg-3">
                        <h4>Extra Info About Penthouse</h4>
                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, do eiusmod tempor pack incididunt ut labore et dolore magna aliqua quised ipsum suspendisse. <br><br>Swag fanny pack lyft blog twee. JOMO ethical copper mug, succulents typewriter shaman DIY kitsch twee taiyaki fixie hella venmo after messenger poutine next level humblebrag swag franzen.</p>
                        <div class="icon-button">
                          <a href="#"><i class="fa fa-calendar"></i> Marcar Visita</a>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="properties section">
      <div class="container">
        <div class="row">
          <div class="col-lg-4 offset-lg-4">
            <div class="section-heading text-center">
              <h6>| Properties</h6>
              <h2>We Provide The Best Property You Like</h2>
            </div>
          </div>
        </div>
        <div class="properties-grid">
            <?php foreach ($anuncios as $anuncio): ?>
                <div class="property-card adv">
                    <button class="btn-favorito">
                        <i class="far fa-heart"></i>
                    </button>
                    <a href="<?= Yii::$app->urlManager->createUrl(['catalogo/detalhes', 'id' => $anuncio->id]) ?>">
                        
                        <!-- Imagem -->
                        <div class="card-image">
                            <?php
                            $defaultImg = Yii::getAlias('@web') . '/template/img/property-01.jpg';
                            $foto = $defaultImg;

                            if (!empty($anuncio->fotos) && isset($anuncio->fotos[0]) && !empty($anuncio->fotos[0]->nomefoto)) {
                                $f = $anuncio->fotos[0];
                                $foto = Yii::getAlias('@web') . '/uploads/' . $f->nomefoto;
                            }
                            ?>
                            <img src="<?= $foto ?>" alt="<?= $anuncio->titulo ?>">
                            
                            <div class="card-overlay">
                                <span class="view-btn">Ver Detalhes</span>
                            </div>
                        </div>

                        <!-- Badge Categoria -->
                        <span class="card-badge"><?= $anuncio->categoria->nome ?? 'Categoria' ?></span>

                        <!-- Conteúdo -->
                        <div class="card-content">
                            <h3 class="card-title"><?= $anuncio->titulo ?></h3>
                            
                            <div class="card-price">
                                <span><?= number_format($anuncio->preco, 2) ?></span>€
                            </div>

                            <div class="card-details">
                                <div class="detail-item">
                                    <i class="fas fa-home"></i>
                                    <span><?= $anuncio->tipologia ?></span>
                                </div>
                                <div class="detail-item">
                                    <i class="fas fa-ruler-combined"></i>
                                    <span><?= $anuncio->area ?> m²</span>
                                </div>
                                <div class="detail-item">
                                    <i class="fas fa-map-marker-alt"></i>
                                    <span><?= $anuncio->localizacao->distrito ?? 'N/D' ?></span>
                                </div>
                            </div>
                        </div>

                    </a>
                </div>
            <?php endforeach; ?>
        </div>              
      </div>
    </div>
    <div class="featured section" style="padding: 80px; background-color: #d8d8d83d;">
      <div class="container">
        <div class="row align-items-center">

          <!-- Coluna da imagem -->
          <div class="col-lg-4">
            <div class="left-image">
              <img src="../../web/template/img/sell-proprety.jpg" alt="foto" style="border-radius: 20px;">
            </div>
          </div>

          <!-- Coluna do texto -->
          <div class="col-lg-4">
            <div class="section-heading">
              <h6 style="padding-bottom: 20px;">| Queres Vender os Teus Imóveis?</h6>
              <h3 style="padding-top: 20px;">Preenche o formulário e alcança milhares de potenciais compradores.</h3>
              <div class="main-button" style="padding-top: 40px;">
                <a href="#">Formulario</a>
              </div>
            </div>
          </div>

          <!-- Coluna do accordion -->
          <div class="col-lg-4">
            <div class="accordion" id="accordionExample">
              <div class="accordion-item">
                <h2 class="accordion-header" id="headingOne">
                  <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                    Dicas úteis para vender rápido
                  </button>
                </h2>
                <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
                  <div class="accordion-body">
                    Descobre como destacar os teus imóveis e atrair compradores de forma eficaz. Templates e estratégias comprovadas que aumentam as hipóteses de venda.
                  </div>
                </div>
              </div>

              <div class="accordion-item">
                <h2 class="accordion-header" id="headingTwo">
                  <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                    Como funciona o nosso serviço
                  </button>
                </h2>
                <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
                  <div class="accordion-body">
                    Publica o teu anúncio em minutos. O nosso sistema garante visibilidade máxima e mostra o teu imóvel aos compradores certos.
                  </div>
                </div>
              </div>

              <div class="accordion-item">
                <h2 class="accordion-header" id="headingThree">
                  <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                    Porque anunciar connosco
                  </button>
                </h2>
                <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#accordionExample">
                  <div class="accordion-body">
                    Oferecemos gestão fácil dos anúncios e suporte dedicado. Vender nunca foi tão simples e seguro.
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>